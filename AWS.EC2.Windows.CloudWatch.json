{
   "EngineConfiguration":{
      "PollInterval":"00:00:15",
      "Components":[
         {
            "Id":"ApplicationEventLog",
            "FullName":"AWS.EC2.Windows.CloudWatch.EventLog.EventLogInputComponent,AWS.EC2.Windows.CloudWatch",
            "Parameters":{
               "LogName":"Application",
               "Levels":"1"
            }
         },
         {
            "Id":"SystemEventLog",
            "FullName":"AWS.EC2.Windows.CloudWatch.EventLog.EventLogInputComponent,AWS.EC2.Windows.CloudWatch",
            "Parameters":{
               "LogName":"System",
               "Levels":"7"
            }
         },
         {
            "Id":"SecurityEventLog",
            "FullName":"AWS.EC2.Windows.CloudWatch.EventLog.EventLogInputComponent,AWS.EC2.Windows.CloudWatch",
            "Parameters":{
               "LogName":"Security",
               "Levels":"7"
            }
         },
         {
            "Id":"ETW",
            "FullName":"AWS.EC2.Windows.CloudWatch.EventLog.EventLogInputComponent,AWS.EC2.Windows.CloudWatch",
            "Parameters":{
               "LogName":"Microsoft-Windows-WinINet/Analytic",
               "Levels":"7"
            }
         },
         {
            "Id":"IISLog",
            "FullName":"AWS.EC2.Windows.CloudWatch.IisLog.IisLogInputComponent,AWS.EC2.Windows.CloudWatch",
            "Parameters":{
               "LogDirectoryPath":"C:\\inetpub\\logs\\LogFiles\\W3SVC1"
            }
         },
         {
            "Id":"CustomLogs",
            "FullName":"AWS.EC2.Windows.CloudWatch.CustomLog.CustomLogInputComponent,AWS.EC2.Windows.CloudWatch",
            "Parameters":{
               "LogDirectoryPath":"C:\\CustomLogs\\",
               "TimestampFormat":"MM/dd/yyyy HH:mm:ss",
               "Encoding":"UTF-8",
               "Filter":"",
               "CultureName":"en-US",
               "TimeZoneKind":"Local"
            }
         },
         {
            "Id":"PerformanceCounterMemory",
            "FullName":"AWS.EC2.Windows.CloudWatch.PerformanceCounterComponent.PerformanceCounterInputComponent,AWS.EC2.Windows.CloudWatch",
            "Parameters":{
               "CategoryName":"Memory",
               "CounterName":"Available MBytes",
               "InstanceName":"",
               "MetricName":"Memory",
               "Unit":"Megabytes",
               "DimensionName":"InstanceId",
               "DimensionValue":"{instance_id}"
            }
         },
         {
            "Id":"PerformanceCounterDisk-C",
            "FullName":"AWS.EC2.Windows.CloudWatch.PerformanceCounterComponent.PerformanceCounterInputComponent,AWS.EC2.Windows.CloudWatch",
            "Parameters":{
               "CategoryName":"LogicalDisk",
               "CounterName":"Free Megabytes",
               "InstanceName":"C:",
               "MetricName":"FreeDisk",
               "Unit":"Megabytes",
               "DimensionName":"InstanceId",
               "DimensionValue":"{instance_id}"
            }
         },
         {
            "Id":"PerformanceCounterDiskC",
            "FullName":"AWS.EC2.Windows.CloudWatch.PerformanceCounterComponent.PerformanceCounterInputComponent,AWS.EC2.Windows.CloudWatch",
            "Parameters":{
               "CategoryName":"LogicalDisk",
               "CounterName":"% Free Space",
               "InstanceName":"C:",
               "MetricName":"C.FreeDiskPercent",
               "Unit":"Percent",
               "DimensionName":"Instance",
               "DimensionValue":"Hostname: {hostname} IP Address: {ip_address} InstanceId: {instance_id}"
            }
         },
         {
            "Id":"PerformanceCounterDiskD",
            "FullName":"AWS.EC2.Windows.CloudWatch.PerformanceCounterComponent.PerformanceCounterInputComponent,AWS.EC2.Windows.CloudWatch",
            "Parameters":{
               "CategoryName":"LogicalDisk",
               "CounterName":"% Free Space",
               "InstanceName":"D:",
               "MetricName":"D.FreeDiskPercent",
               "Unit":"Percent",
               "DimensionName":"Instance",
               "DimensionValue":"Hostname: {hostname} IP Address: {ip_address} InstanceId: {instance_id}"
            }
         },
         {
            "Id":"CloudWatchLogs",
            "FullName":"AWS.EC2.Windows.CloudWatch.CloudWatchLogsOutput,AWS.EC2.Windows.CloudWatch",
            "Parameters":{
               "AccessKey":"",
               "SecretKey":"",
               "Region":"eu-central-1",
               "LogGroup":"Windows-logs",
               "LogStream":"{instance_id}"
            }
         },
         {
            "Id":"CloudWatch",
            "FullName":"AWS.EC2.Windows.CloudWatch.CloudWatch.CloudWatchOutputComponent,AWS.EC2.Windows.CloudWatch",
            "Parameters":{
               "AccessKey":"",
               "SecretKey":"",
               "Region":"eu-central-1",
               "NameSpace":"WindowsCustom-Metrics"
            }
         }
      ],
      "Flows":{
         "Flows":[
            "(ApplicationEventLog,SystemEventLog,IISLog),CloudWatchLogs",
            "(PerformanceCounterMemory,PerformanceCounterDiskC,PerformanceCounterDiskD,PerformanceCounterDisk-C ),CloudWatch"
         ]
      }
   }
}